<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Par칙metros do Sistema</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="parametros.css">
</head>
<body>
    <div class="container">
        <nav class="sidebar">
            <h2>Gest칚o de Escalas</h2>
            <ul>
                <li><a href="index.html">游 In칤cio</a></li>
                <li><a href="funcionarios.html">游논 Funcion치rios</a></li>
                <li><a href="escalas.html">游늰 Tipos de Escala</a></li>
                <li><a href="ausencias.html">游 Aus칡ncias</a></li>
                <li><a href="parametros.html" class="active">丘뙖잺 Par칙metros</a></li>
                <li><a href="grupos.html">游닍 Monitoramento</a></li>
                <li><a href="usuarios.html">游댏 Usu치rios</a></li>
                <hr>
                <li><a href="monitoramento.html">Importa칞칚o de Dados</a></li>
                <li><a href="mapa.html">Mapa de Folgas</a></li>
                <li><a href="jornada.html">Escala de Trabalho</a></li>
                <hr>                
                <li><a href="#" onclick="logout()">游뛁 Sair</a></li>
            </ul>
        </nav>

        <main class="content">
            <div class="header-dashboard">
                <h1>Par칙metros do Sistema</h1>
                <div class="header-controls">
                    <div class="filter-group">
                        <label>M칡s:</label>
                        <select id="filtro-mes-param" onchange="renderizarFeriados()">
                            <option value="1">Janeiro</option><option value="2">Fevereiro</option>
                            <option value="3">Mar칞o</option><option value="4">Abril</option>
                            <option value="5">Maio</option><option value="6">Junho</option>
                            <option value="7">Julho</option><option value="8">Ago</option>
                            <option value="9">Setembro</option><option value="10">Outubro</option>
                            <option value="11">Novembro</option><option value="12">Dezembro</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Ano:</label>
                        <input type="number" id="filtro-ano-param" value="2025" onchange="renderizarFeriados()">
                    </div>
                    <div class="filter-group">
                        <label>Folgas:</label>
                        <input type="number" id="folgas-mes-param" value="5" style="width: 50px;">
                    </div>
                    <button onclick="abrirCalendarioConsulta()" class="btn-calendar-top" title="Ver Calend치rio"><i class="fa-solid fa-calendar-days"></i></button>
                    <button onclick="salvarConfiguracaoFeriados()" class="btn-save-top"><i class="fa-solid fa-floppy-disk"></i> Salvar Feriados</button>
                </div>
            </div>

            <div class="parametros-scroll-container">
                <!-- COLUNAS DE FERIADOS -->
                <div class="colunas-feriados">
                    <div class="empresa-col"><h2 class="titulo-avul">Feriados AVUL</h2><div id="lista-feriados-avul"></div></div>
                    <div class="empresa-col"><h2 class="titulo-vccl">Feriados VCCL</h2><div id="lista-feriados-vccl"></div></div>
                    <div class="empresa-col"><h2 class="titulo-vsbl">Feriados VSBL</h2><div id="lista-feriados-vsbl"></div></div>
                </div>

                <h2 class="titulo-secao-aprendiz">Atua칞칚o dos Aprendizes (Dados Fixos)</h2>
                <div id="lista-aprendizes" class="grid-aprendizes"></div>

                <h2 class="titulo-secao-aprendiz">Regras de Folgas Espec칤ficas</h2>
                <div id="regras-especiais" class="grid-aprendizes">
                    
                    <!-- CART츾O EQUIPE MANH츾 AVUL -->
                    <div class="card-aprendiz" style="border-top-color: #27ae60;">
                        <div class="card-aprendiz-header" style="background: #f0fff4;">
                            <h4>Equipe Manh칚 (AVUL)</h4>
                            <div class="aprendiz-actions">
                                <label class="switch">
                                    <input type="checkbox" id="regra-equipe-manha" onchange="salvarRegraEspecial('equipeManha')">
                                    <span class="slider round"></span>
                                </label>
                            </div>
                        </div>
                        <div class="card-aprendiz-body">
                            <p style="font-size: 0.7rem; color: #666;">
                                <strong>Milena </strong> Intercala S치bado e Domingo. <br>
                                <strong>Habilitado:</strong> Inclui <b>Eloah</b> no rod칤zio de S치bado. <br>
                                <strong>Desabilitado:</strong> <b>Eloah</b> folga todos os Domingos.
                            </p>
                        </div>
                    </div>

                    <!-- CART츾O OSMAIR -->
                    <div class="card-aprendiz">
                        <div class="card-aprendiz-header">
                            <h4>Osmair (Noite - AVUL)</h4>
                            <div class="aprendiz-actions">
                                <label class="switch">
                                    <input type="checkbox" id="regra-osmair" onchange="salvarRegraEspecial('osmair')">
                                    <span class="slider round"></span>
                                </label>
                            </div>
                        </div>
                        <div class="card-aprendiz-body">
                            <p style="font-size: 0.8rem; color: #666;">Folga fixa no <strong>칰ltimo Domingo</strong> de cada m칡s.</p>
                        </div>
                    </div>

                    <!-- CART츾O F츼BIO -->
                    <div class="card-aprendiz">
                        <div class="card-aprendiz-header">
                            <h4>F치bio (Noite - VCCL)</h4>
                            <div class="aprendiz-actions">
                                <label class="switch">
                                    <input type="checkbox" id="regra-fabio" onchange="salvarRegraEspecial('fabio')">
                                    <span class="slider round"></span>
                                </label>
                            </div>
                        </div>
                        <div class="card-aprendiz-body">
                            <p style="font-size: 0.8rem; color: #666;">Folga fixa no <strong>S치bado que antecede</strong> o 칰ltimo Domingo.</p>
                        </div>
                    </div>

                    <!-- CART츾O EQUIPE TARDE AVUL -->
                    <div class="card-aprendiz" style="border-top-color: #3498db;">
                        <div class="card-aprendiz-header" style="background: #eef7ff;">
                            <h4>Equipe Tarde (AVUL)</h4>
                            <div class="aprendiz-actions">
                                <label class="switch">
                                    <input type="checkbox" id="regra-equipe-tarde" onchange="salvarRegraEspecial('equipeTarde')">
                                    <span class="slider round"></span>
                                </label>
                            </div>
                        </div>
                        <div class="card-aprendiz-body">
                            <p style="font-size: 0.72rem; color: #666;">
                                <strong>Rod칤zio Inteligente:</strong> M치rcia Folgas nos S치bados e Rod칤zio entre Lucas P. > Angelo > Renato > Lucas > Roberto > Valter.
                            </p>
                        </div>
                    </div>

                </div>
            </div>
        </main>
    </div>

    <div id="modal-calendario" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-titulo">Calend치rio</h2>
                <span class="close-modal" onclick="fecharModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="calendar-days-header">
                    <span>Dom</span><span>Seg</span><span>Ter</span><span>Qua</span><span>Qui</span><span>Sex</span><span>S치b</span>
                </div>
                <div id="calendar-grid" class="calendar-grid"></div>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="firebase-config.js"></script>
    <script src="parametros.js"></script>
</body>
</html>