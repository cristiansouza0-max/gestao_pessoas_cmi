<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Mapa de Folgas</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="mapa.css">
</head>
<body>
    <div class="container">
        <nav class="sidebar">
            <h2>Gest√£o de Pessoas</h2>
            <ul>
                <li><a href="index.html">üè† In√≠cio</a></li>
                <li><a href="funcionarios.html">üë• Funcion√°rios</a></li>
                <li><a href="escalas.html">üìÖ Tipos de Escala</a></li>
                <li><a href="ausencias.html">ü§í Aus√™ncias</a></li>
                <li><a href="parametros.html">‚öôÔ∏è Par√¢metros</a></li>
                <li><a href="grupos.html">üì¶ Monitoramento</a></li>
                <li><a href="usuarios.html">üîê Usu√°rios</a></li>
                <hr>
                <li><a href="monitoramento.html">Importa√ß√£o de Dados</a></li>
                <li><a href="mapa.html" class="active">Mapa de Folgas</a></li>
                <li><a href="jornada.html">Escala de Trabalho</a></li>
                <hr>
                <li><a href="#" onclick="logout()">üö™ Sair</a></li>                
            </ul>
        </nav>

        <main class="content">
            <div class="header-dashboard">
                <h1>Mapa de Folgas - CMI Tr√°fego</h1>
                <div class="header-controls">
                    <div class="filter-group">
                        <label>M√™s:</label>
                        <select id="mapa-mes">
                            <option value="1">Janeiro</option>
                            <option value="2">Fevereiro</option>
                            <option value="3">Mar√ßo</option>
                            <option value="4">Abril</option>
                            <option value="5">Maio</option>
                            <option value="6">Junho</option>
                            <option value="7">Julho</option>
                            <option value="8">Agosto</option>
                            <option value="9">Setembro</option>
                            <option value="10">Outubro</option>
                            <option value="11">Novembro</option>
                            <option value="12">Dezembro</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Ano:</label>
                        <input type="number" id="mapa-ano" style="width: 80px;">
                    </div>

                    <!-- NOVO FILTRO DE EMPRESA VIS√çVEL -->
                    <div class="filter-group-visible">
                        <label class="check-item"><input type="checkbox" class="filtro-emp" value="AVUL" checked> AVUL</label>
                        <label class="check-item"><input type="checkbox" class="filtro-emp" value="VCCL" checked> VCCL</label>
                        <label class="check-item"><input type="checkbox" class="filtro-emp" value="VSBL" checked> VSBL</label>
                    </div>

                    <!-- FILTRO DE PER√çODO VIS√çVEL -->
                    <div class="filter-group-visible">
                        <label class="check-item"><input type="checkbox" class="filtro-per" value="Manh√£" checked> Manh√£</label>
                        <label class="check-item"><input type="checkbox" class="filtro-per" value="Intermedi√°rio" checked> Intermedi√°rio</label>
                        <label class="check-item"><input type="checkbox" class="filtro-per" value="Tarde" checked> Tarde</label>
                        <label class="check-item"><input type="checkbox" class="filtro-per" value="Noite" checked> Noite</label>
                        <label class="check-item"><input type="checkbox" class="filtro-per" value="Integral" checked> Integral</label>
                    </div>

                    <button onclick="salvarMapaDefinitivo()" class="btn-save-blue"><i class="fa-solid fa-cloud-arrow-up"></i> Salvar</button>
                    <button onclick="window.print()" class="btn-print-red"><i class="fa-solid fa-print"></i> Imprimir</button>
                </div>
            </div>

            <div class="legenda-mapa">
                <div class="legenda-itens-group">
                    <div class="legenda-item"><span class="box s-sab"></span> S√°bados</div>
                    <div class="legenda-item"><span class="box s-dom"></span> Domingos</div>
                    <div class="legenda-item"><span class="box s-fer"></span> Feriados</div>
                    <div class="legenda-item"><span class="box s-vac"></span> F√©rias</div>
                    <div class="legenda-item"><span class="box s-abs"></span> Falta</div>
                    <div class="legenda-item"><span class="box s-lic"></span> Afastamento / Licen√ßa</div>
                    <div class="legenda-item"><span class="box-text folga-pedida">X</span> Folga Pedida</div>
                    <div class="legenda-item"><span class="box-text folga-programada">F</span> Folga Programada</div>
                    <div class="legenda-item"><span class="box-text folga-marcada">X</span> Folga Marcada</div>
                    <div class="legenda-item"><span class="box-text folga-x">X</span> Folga Escala</div>
                    <div class="legenda-item"><span class="box-text symbol-a">A</span> Anivers√°rio</div>
                </div>

                <div class="legenda-controls">
                    <label class="switch-label">
                        <input type="checkbox" id="chk-exibir-extras" checked onchange="toggleSimbolosExtras()">
                        <span class="switch-text">Exibir A / F</span>
                    </label>
                </div>
            </div>

            <div id="mapa-container" class="mapa-scroll-area">
                <p class="instrucao">Ajuste os filtros e clique em Gerar.</p>
            </div>
        </main>
    </div>

    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="firebase-config.js"></script>
    <script src="mapa.js"></script>
</body>
</html>